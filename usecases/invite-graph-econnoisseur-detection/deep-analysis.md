# 深度分析

深度分析的基本思想是，从某个类型的子图中寻找 **Connected Component** \( 连通分量，后简称 CC \), 对 CC 进行画像，定位出存在异常的 CC，再从这个 CC 出发寻找与之相关联的订单或其他节点。

在挑选子图时，尽可能选择一些强关联关系，比如**邀请关系**，邀请者与被邀请者是具体的，事实的存在。而像 `Account -(use_ip)-> IP`  这样的关联，并非稳定关系，尤其是在中国 IPv4 地址资源有限的环境下，绝大多数人上网使用的是动态 IP，一个 IP 在一段时间内可能为黑产所用，在另一段时间可能是一个正常用户在用。

{% hint style="info" %}
关系的强弱稳定，在不同场景下，是不一样的，需要具体问题具体分析。读者也可以思考一下，在动态 IP 环境下，账户与IP之间的关联关系是否完全失去意义，是否可能有其他利用价值。这部分内容我们留到下一个案例来讨论，学完之后可能更能体会到，很多时候对业务的认识，采用适合的 Schema 设计，可以很大程度提升分析效率。
{% endhint %}

在这个案例中，我们所说到的 CC，特指由**邀请关系**构成的子图中的连通分量。

![Connected Components](../../.gitbook/assets/screen-shot-2020-03-17-at-5.39.12-pm.png)

前面说到，因为成本效益的考虑，黑产团伙会尽可能资源使用成本，这样一来必然会在某些资源上出现共用，或者体现出一些独特的使用策略。

具体来说，在本案例中，我认为黑产团伙构成的 CC 可能具备如下特征:

1. CC 的深度过大
2. 一个 CC 中非**对己订单比例**很高
3. CC 中存在大量**设备共用**行为
4. CC 中的行为**疑似机器操作**

### 如何寻找 CC

### 深度过大的 CC

### 非对己订单比例很高的 CC

### CC中存在大量设备共用

### CC的行为疑似机器操作

